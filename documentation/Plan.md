# Планирование тестирования

## Перечень автоматизируемых сценариев

### А001 Заполнение всех полей формы "Купить" *валидными* значениями
Шаги воспроизведения:
1. Открыть страницу с туром http://localhost:8080/
2. Нажать кнопку "Купить"
3. Ввести в поле "Номер карты" APPROVED номер карты
4. Ввести в поле "Месяц" *валидное* значение
5. Ввести в поле "Год" *валидное* значение
6. Ввести в поле "Владелец" *валидное* значение
7. Ввести в поле "CVC/CVV" *валидное* значение
8. Нажать на кнопку "Продолжить"

Ожидаемый результат:
На сайте появляется окошко: "Успешно! Операция одобрена Банком."

В базе данных: в таблице Payment Gate появляются данные карты APPROVED, таблица с заявкой на покупку тура заполнена

### А002 Заполнение всех полей формы "Купить в кредит" *валидными* значениями
Шаги воспроизведения:
1. Открыть страницу с туром http://localhost:8080/
2. Нажать кнопку "Купить в кредит"
3. Ввести в поле "Номер карты" APPROVED номер карты
4. Ввести в поле "Месяц" *валидное* значение
5. Ввести в поле "Год" *валидное* значение
6. Ввести в поле "Владелец" *валидное* значение
7. Ввести в поле "CVC/CVV" *валидное* значение
8. Нажать на кнопку "Продолжить"

Ожидаемый результат:
На сайте появляется окошко: "Успешно! Операция одобрена Банком."

В базе данных: в таблице Credit Gate появляются данные карты APPROVED, таблица с заявкой на покупку тура заполнена

### А003 Заполнение поля "Номер карты" в форме "Купить" заблокированным номером карты
Шаги воспроизведения:
1. Открыть страницу с туром http://localhost:8080/
2. Нажать кнопку "Купить"
3. Ввести DECLINED номер карты
4. Заполнить остальные поля формы *валидными* значениями
5. Нажать на кнопку "Продолжить"

Ожидаемый результат: Появляется окошко: "Ошибка! Банк отказал в проведении операции."

В базе данных: в таблице Payment Gate появляются данные карты DECLINED, таблица с заявкой на покупку тура не заполнена

### А004 Заполнение поля "Номер карты" в форме "Купить в кредит" заблокированным номером карты
Шаги воспроизведения:
1. Открыть страницу с туром http://localhost:8080/
2. Нажать кнопку "Купить в кредит"
3. Ввести DECLINED номер карты
4. Заполнить остальные поля формы *валидными* значениями
5. Нажать на кнопку "Продолжить"

Ожидаемый результат: Появляется окошко: "Ошибка! Банк отказал в проведении операции."

В базе данных: в таблице Credit Gate появляются данные карты DECLINED, таблица с заявкой на покупку тура не заполнена

### А005 Оставление поля "Номер карты" пустым
Шаги воспроизведения:
1. Открыть страницу с туром http://localhost:8080/
2. Нажать кнопку "Купить" или "Купить в кредит"
3. Оставить пустым поле "Номер карты"
4. Заполнить остальные поля формы *валидными* значениями
5. Нажать на кнопку "Продолжить"

Ожидаемый результат: Под полем "Номер карты" появляется сообщение: "Неверный формат"

### А006 Заполнение поля "Номер карты" 10 цифрами
Шаги воспроизведения:
1. Открыть страницу с туром http://localhost:8080/
2. Нажать кнопку "Купить" или "Купить в кредит"
3. Заполнить поле "Номер карты" 10 цифрами
4. Заполнить остальные поля формы *валидными* значениями
5. Нажать на кнопку "Продолжить"

Ожидаемый результат: Под полем "Номер карты" появляется сообщение: "Неверный формат"

### А007 Заполнение поля "Номер карты" 16 рандомными цифрами
Шаги воспроизведения:
1. Открыть страницу с туром http://localhost:8080/g
2. Нажать кнопку "Купить" или "Купить в кредит"
3. Заполнить поле "Номер карты" 16 рандомными цифрами
4. Заполнить остальные поля формы *валидными* значениями
5. Нажать на кнопку "Продолжить"

Ожидаемый результат: Появляется окошко: "Ошибка! Банк отказал в проведении операции."

### А008 Заполнение поля "Номер карты" 18 рандомными цифрами
Шаги воспроизведения:
1. Открыть страницу с туром http://localhost:8080/
2. Нажать кнопку "Купить" или "Купить в кредит"
3. Заполнить поле "Номер карты" 18 рандомными цифрами

Ожидаемый результат: В поле вводится 16 цифр

### А009 Заполнение поля "Номер карты" буквами
Шаги воспроизведения:
1. Открыть страницу с туром http://localhost:8080/
2. Нажать кнопку "Купить" или "Купить в кредит"
3. Заполнить поле "Номер карты" буквами

Ожидаемый результат: В поле ничего не вводится

### А010 Заполнение поля "Номер карты" символами
Шаги воспроизведения:
1. Открыть страницу с туром http://localhost:8080/
2. Нажать кнопку "Купить" или "Купить в кредит"
3. Заполнить поле "Номер карты" символами

Ожидаемый результат: В поле ничего не вводится

### А011 Остановление поля "Месяц" пустым
Шаги воспроизведения:
1. Открыть страницу с туром http://localhost:8080/
2. Нажать кнопку "Купить" или "Купить в кредит"
3. Оставить поле "Месяц" пустым
4. Заполнить остальные поля формы *валидными* значениями
5. Нажать на кнопку "Продолжить"
   Ожидаемый результат: Под полем "Месяц" появляется сообщение: "Неверный формат"

### А012 Заполнение поля "Месяц" тремя цифрами
Шаги воспроизведения:
1. Открыть страницу с туром http://localhost:8080/
2. Нажать кнопку "Купить" или "Купить в кредит"
3. Ввести в поле "Месяц" три цифры
   
Ожидаемый результат: В поле "Месяц" вводятся 2 цифры

### А013 Заполнение поля "Месяц" значением 00
Шаги воспроизведения:
1. Открыть страницу с туром http://localhost:8080/
2. Нажать кнопку "Купить" или "Купить в кредит"
3. Ввести в поле "Месяц" значение 00
4. Заполнить остальные поля формы *валидными* значениями
5. Нажать на кнопку "Продолжить"
 
Ожидаемый результат: Под полем "Месяц" появляется сообщение: "Неверно указан месяц"

### А014 Заполнение поля "Месяц" числом 13
Шаги воспроизведения:
1. Открыть страницу с туром http://localhost:8080/
2. Нажать кнопку "Купить" или "Купить в кредит"
3. Ввести в поле "Месяц" числом 13
4. Заполнить остальные поля формы *валидными* значениями
5. Нажать на кнопку "Продолжить"

Ожидаемый результат: Под полем "Месяц" появляется сообщение: "Неверно указан месяц"

### А015 Заполнение поля "Месяц" буквами
Шаги воспроизведения:
1. Открыть страницу с туром http://localhost:8080/
2. Нажать кнопку "Купить" или "Купить в кредит"
3. Ввести в поле "Месяц" буквами

Ожидаемый результат: В поле ничего не вводится

### А016 Заполнение поля "Месяц" символами
Шаги воспроизведения:
1. Открыть страницу с туром http://localhost:8080/
2. Нажать кнопку "Купить" или "Купить в кредит"
3. Ввести в поле "Месяц" символами

Ожидаемый результат: В поле ничего не вводится

### А017 Остановление поля "Год" пустым
Шаги воспроизведения:
1. Открыть страницу с туром http://localhost:8080/
2. Нажать кнопку "Купить" или "Купить в кредит"
3. Оставить поле "Год" пустым
4. Заполнить остальные поля формы *валидными* значениями
5. Нажать на кнопку "Продолжить"

Ожидаемый результат: Под полем "Год" появляется сообщение: "Неверный формат"

### А018 Заполнение поля "Год" числом 20
Шаги воспроизведения:
1. Открыть страницу с туром http://localhost:8080/
2. Нажать кнопку "Купить" или "Купить в кредит"
3. Ввести в поле "Год" число 20
4. Заполнить остальные поля формы *валидными* значениями
5. Нажать на кнопку "Продолжить"

Ожидаемый результат: Под полем "Год" появляется сообщение: "Истек срок действия карты"

### А019 Заполнение поля "Год" числом 29
Шаги воспроизведения:
1. Открыть страницу с туром http://localhost:8080/
2. Нажать кнопку "Купить" или "Купить в кредит"
3. Ввести в поле "Год" число 29
4. Заполнить остальные поля формы *валидными* значениями
5. Нажать на кнопку "Продолжить"
   
Ожидаемый результат: Под полем "Год" появляется сообщение: "Неверно указан срок действия карты"

### А020 Заполнение поля "Год" буквами
Шаги воспроизведения:
1. Открыть страницу с туром http://localhost:8080/
2. Нажать кнопку "Купить" или "Купить в кредит"
3. Ввести в поле "Год" буквами

Ожидаемый результат: В поле ничего не вводится

### А021 Заполнение поля "Год" символами
Шаги воспроизведения:
1. Открыть страницу с туром http://localhost:8080/
2. Нажать кнопку "Купить" или "Купить в кредит"
3. Ввести в поле "Год" символами

Ожидаемый результат: В поле ничего не вводится

### А022 Заполнение поля "Владелец" именем Anna
Шаги воспроизведения:
1. Открыть страницу с туром http://localhost:8080/
2. Нажать кнопку "Купить" или "Купить в кредит"
3. Ввести в поле "Владелец" Anna
4. Заполнить остальные поля формы *валидными* значениями
5. Нажать на кнопку "Продолжить"
   
Ожидаемый результат: Под полем "Владелец" появляется сообщение: "Неверный формат"

### А023 Заполнение поля "Владелец" именем и фамилией Мария Петрова
Шаги воспроизведения:
1. Открыть страницу с туром http://localhost:8080/
2. Нажать кнопку "Купить" или "Купить в кредит"
3. Ввести в поле "Владелец" Мария Петрова
4. Заполнить остальные поля формы *валидными* значениями
5. Нажать на кнопку "Продолжить"

Ожидаемый результат: Под полем "Владелец" появляется сообщение: "Неверный формат"

### А024 Остановление поля "Владелец" пустым
Шаги воспроизведения:
1. Открыть страницу с туром http://localhost:8080/
2. Нажать кнопку "Купить" или "Купить в кредит"
3. Оставить поле "Владелец" пустым
4. Заполнить остальные поля формы *валидными* значениями
5. Нажать на кнопку "Продолжить"

Ожидаемый результат: Под полем "Владелец" появляется сообщение: "Неверный формат"

### А025 Заполнение поля "Владелец" символами
Шаги воспроизведения:
1. Открыть страницу с туром http://localhost:8080/
2. Нажать кнопку "Купить" или "Купить в кредит"
3. Ввести в поле "Владелец" символами

Ожидаемый результат: В поле ничего не вводится

### А026 Заполнение поля "Владелец" цифрами
Шаги воспроизведения:
1. Открыть страницу с туром http://localhost:8080/
2. Нажать кнопку "Купить" или "Купить в кредит"
3. Ввести в поле "Владелец" цифрами

Ожидаемый результат: В поле ничего не вводится

### А027 Заполнение поля "CVC/CVV" 2 цифрами
Шаги воспроизведения:
1. Открыть страницу с туром http://localhost:8080/
2. Нажать кнопку "Купить" или "Купить в кредит"
3. Ввести в поле "CVC/CVV" 2 цифры
4. Заполнить остальные поля формы *валидными* значениями
5. Нажать на кнопку "Продолжить"
   
Ожидаемый результат: Под полем "CVC/CVV" появляется сообщение: "Неверный формат"

### А028 Заполнение поля "CVC/CVV" 4 цифрами
Шаги воспроизведения:
1. Открыть страницу с туром http://localhost:8080/
2. Нажать кнопку "Купить" или "Купить в кредит"
3. Ввести в поле "CVC/CVV" 4 цифры
   
Ожидаемый результат: В поле "CVC/CVV" вводятся 3 цифры

### А029 Остановление поля "CVC/CVV" пустым
Шаги воспроизведения:
1. Открыть страницу с туром http://localhost:8080/
2. Нажать кнопку "Купить" или "Купить в кредит"
3. Оставить поле "CVC/CVV" пустым
4. Заполнить остальные поля формы *валидными* значениями
5. Нажать на кнопку "Продолжить"
   
Ожидаемый результат: Под полем "CVC/CVV" появляется сообщение: "Неверный формат"

### А030 Заполнение поля "CVC/CVV" символами
Шаги воспроизведения:
1. Открыть страницу с туром http://localhost:8080/
2. Нажать кнопку "Купить" или "Купить в кредит"
3. Ввести в поле "CVC/CVV" символами

Ожидаемый результат: В поле ничего не вводится

### А031 Заполнение поля "CVC/CVV" буквами
Шаги воспроизведения:
1. Открыть страницу с туром http://localhost:8080/
2. Нажать кнопку "Купить" или "Купить в кредит"
3. Ввести в поле "CVC/CVV" буквами

Ожидаемый результат: В поле ничего не вводится

#### Значениями для полей являются:
- APPROVED карта — 1111 2222 3333 4444;
- DECLINED карта — 5555 6666 7777 8888;
- Месяц - от 1 до 12, но если год-текущий - не меньше текущего месяца;
- Год - 2 последние цифры текущего и последующих 5 лет;
- Владелец - от 1 до 64 символов: заглавные английские буквы, пробелы, тире, апостроф;
- CVC/CVV - 3 цифры.

## Перечень используемых инструментов с обоснованием выбора
- *IDE: IntelliJ IDEA*;
- *Gradle* для автоматизации сборки и добавления зависимостей, легче по сравнению с Maven;
- *JUnit5* популярный и полнофункциональный фреймворк для модульного тестирования;
- *Selenide* популярный и простой инструмент для UI тестов;
- *Docker-compose* для быстрого развёртывания SUT с заданными параметрами и версиями БД;
- *Allure* подходящая система репортинга для планируемого объёма тестирования;
- *DBeaver* для проверки данных в БД.

## Перечень и описание возможных рисков при автоматизации
- Большие затраты. Окупаемость которых наступит при регулярных релизах продукта, если это не предполагается, то достаточно ручной проверки;
- Большое количество тестов требует много внимания к их поддержке и актуализации;
- Использование изолированных входных данных. Эффект пестицида, необходимо разработать генератор случайных данных;
- Из-за использования заглушки в банковском сервисе, есть риск, что при подключении реальной системы появятся новые невыявленные дефекты.

## Интервальная оценка с учётом рисков в часах
1. Подготовка к проведению тестирования - 10 часов.
2. Разработка автотестов - 28-30 часов.
3. Создание баг-репортов - 6-8 часов.
4. Составление отчёта по результатам автоматизации - 6-8 часов.

## План сдачи работ
1. Планирование тестирования: 05.06.2024 - 06.06.2024
2. Разразботка автотестов: 07.06.2024 - 10.06.2024
3. Создание баг-репортов: 11.06.2024 - 12.06.2024
4. Составление отчёта по результатам автоматизации: 14.06.2024 - 15.06.2024